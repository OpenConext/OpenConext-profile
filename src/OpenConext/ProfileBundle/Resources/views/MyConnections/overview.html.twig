{% extends 'OpenConextProfileBundle::layout.html.twig' %}

{% block title %}
    {{ 'profile.my_connections.short_title'|trans }} &mdash; {{ parent() }}
{% endblock %}

{% block content %}

    {% if orcid.isConnected %}
        <h1>{{ 'profile.my_connections.short_title'|trans }}</h1>
    {% else %}
        <h1>{{ 'profile.my_connections.long_title'|trans }}</h1>
        <p>{{ 'profile.my_connections.explanation'|trans }}</p>
    {% endif %}

    <div class="table-overflow-container">
        {% if orcid.isConnected %}
            <div class="attribute-container">
                <div class="mdl-grid">
                    <div class="mdl-cell mdl-cell--3-col">
                        <div class="mdl-layout-title">{{ 'profile.my_connections.service_label'|trans }}</div>
                        <img src="{{ orcid.logoPath }}" title="{{ 'profile.my_connections.orcid.title'|trans }}"/>
                    </div>
                    <div class="mdl-cell mdl-cell--3-col">
                        <div class="mdl-layout-title">{{ 'profile.my_connections.orcid.title'|trans }}</div>
                        <p>{{ orcid.values[0] }}</p>
                    </div>
                    <div class="mdl-cell mdl-cell--3-col">
                        <div class="mdl-layout-title">{{ 'profile.my_connections.orcid.status'|trans }}</div>
                        <p class="connected">{{ 'profile.my_connections.orcid.status_connected'|trans }}</p>
                    </div>
                    <div class="mdl-cell mdl-cell--3-col">

                        <a
                                class="mdl-button mdl-js-button mdl-button--raised disconnect"
                                target="_blank"
                                href="{{ orcid.disconnectUrl }}">
                            {{ 'profile.my_connections.orcid.disconnect_title'|trans }}
                        </a>

                    </div>
                </div>
            </div>

        {% else %}

            <hr>

            <h2>{{ 'profile.my_connections.available_connections'|trans }}</h2>
            <div class="attribute-container">
                <div class="mdl-grid">
                    <div class="mdl-cell mdl-cell--3-col">
                        <div class="mdl-layout-title">{{ 'profile.my_connections.service_label'|trans }}</div>
                        <img src="{{ orcid.logoPath }}" title="{{ 'profile.my_connections.orcid.title'|trans }}"/>
                    </div>
                    <div class="mdl-cell mdl-cell--6-col">
                        <div class="mdl-layout-title">{{ 'profile.my_connections.description_label'|trans }}</div>
                        <p>{{ 'profile.my_connections.orcid.description'|trans }}</p>
                    </div>
                    <div class="mdl-cell mdl-cell--3-col">
                        <a
                                class="mdl-button mdl-js-button mdl-button--raised mdl-button--colored"
                                target="_blank"
                                href="{{ orcid.connectUrl }}">
                            {{ 'profile.my_connections.orcid.connect_title'|trans }}
                        </a>
                    </div>
                </div>
            </div>

        {% endif %}

        <h2>{{ 'profile.my_connections.missing_connections'|trans }}</h2>
        <p><a href="mailto:{{ mailTo }}">{{ 'profile.my_connections.send_request'|trans }}</a></p>
    </div>
{% endblock %}
